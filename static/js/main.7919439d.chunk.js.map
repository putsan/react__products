{"version":3,"sources":["components/Search/Search.js","shapes/ProductTypes.js","components/Card/Card.js","components/ProductsList/ProductsList.js","App.js","api/products.js","index.js"],"names":["Search","PropTypes","shape","id","number","isRequired","title","string","price","description","category","image","query","onQuery","className","htmlFor","type","name","value","onChange","placeholder","defaultProps","Card","onPin","pinneed","classNames","red","src","alt","role","aria-label","onClick","ProductsList","React","memo","products","useState","pinnedItemId","setPinnedItem","orderedProducts","setOrderedProducts","setQuery","useMemo","items","filter","product","toLowerCase","includes","filterByQuery","handlePinned","itemId","targetProduct","find","indexOf","preparedProducts","unshift","event","target","map","pinned","App","setProducts","itemsLimit","fetch","then","response","json","actualProducts","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7919439d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Search.scss';\n\nexport const Search = ({ query, onQuery }) => (\n  <div className=\"search\">\n    <label htmlFor=\"search-query\">\n      Search by the name and description\n    </label>\n\n    <input\n      type=\"text\"\n      name=\"query\"\n      value={query}\n      className=\"form-control\"\n      id=\"search-query\"\n      onChange={onQuery}\n      placeholder=\"Write your query\"\n    />\n  </div>\n);\n\nSearch.propTypes = {\n  query: PropTypes.string,\n  onQuery: PropTypes.func.isRequired,\n};\n\nSearch.defaultProps = {\n  query: '',\n};\n","import PropTypes from 'prop-types';\n\nexport const ProductShape = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  description: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  image: PropTypes.string.isRequired,\n}).isRequired;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { ProductShape } from '../../shapes/ProductTypes';\n\nimport './Card.scss';\n\nexport const Card = ({\n  title,\n  price,\n  description,\n  image,\n  id,\n  onPin,\n  pinneed,\n}) => (\n  <li\n    className={classNames(\n      'product',\n      'content__item',\n      { red: pinneed === id },\n    )}\n  >\n    <img\n      src={image}\n      className=\"product__image\"\n      alt=\"A product\"\n    />\n\n    <div className=\"product__body card-body\">\n      <h5 className=\"product__title card-title\">\n        {title}\n      </h5>\n\n      <span>{`${price}$`}</span>\n\n      <p className=\"product__paragraph card-text\">\n        {description}\n      </p>\n\n      <div\n        className=\"product__buttons btn-group\"\n        role=\"group\"\n        aria-label=\"Basic example\"\n      >\n        <button\n          type=\"button\"\n          className=\"product__button btn btn-info\"\n          onClick={() => {}}\n        >\n          Details\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"product__button btn btn-warning\"\n          onClick={() => onPin(id)}\n        >\n          Pin\n        </button>\n      </div>\n    </div>\n  </li>\n);\n\nCard.propTypes = ProductShape;\n","import React, { useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ProductShape } from '../../shapes/ProductTypes';\nimport { Search } from '../Search/Search';\nimport { Card } from '../Card';\n\nimport './ProductsList.scss';\n\nexport const ProductsList = React.memo(\n  ({ products }) => {\n    const [pinnedItemId, setPinnedItem] = useState(null);\n    const [orderedProducts, setOrderedProducts] = useState(products);\n    const [query, setQuery] = useState('');\n\n    useMemo(() => setOrderedProducts(\n      filterByQuery(products, query),\n    ), [products, query]);\n\n    const handlePinned = (itemId) => {\n      const targetProduct = orderedProducts.find(({ id }) => id === itemId);\n      const isPinned = orderedProducts.indexOf(targetProduct) === 0;\n\n      if (isPinned) {\n        setPinnedItem(itemId);\n\n        return;\n      }\n\n      const preparedProducts = orderedProducts\n        .filter(({ id }) => id !== itemId);\n\n      preparedProducts.unshift(targetProduct);\n      setOrderedProducts(preparedProducts);\n    };\n\n    const handleQuery = (event) => {\n      setQuery(event.target.value);\n    };\n\n    return (\n      <>\n        <Search query={query} onQuery={handleQuery} />\n\n        <ul className=\"content\">\n\n          {products && orderedProducts.map(product => (\n            <Card\n              key={product.id}\n              pinned={pinnedItemId}\n              onPin={handlePinned}\n              {...product}\n            />\n          ))}\n        </ul>\n      </>\n    );\n  },\n);\n\nfunction filterByQuery(items, query) {\n  return items.filter((product) => {\n    const { title, description } = product;\n    const cardText = `${title} ${description}`;\n\n    return cardText.toLowerCase().includes(query.toLowerCase());\n  });\n}\n\nProductsList.propTypes = {\n  products: PropTypes.arrayOf(ProductShape).isRequired,\n};\n","import React, { useMemo, useState } from 'react';\nimport { getProducts } from './api/products';\nimport { ProductsList } from './components/ProductsList';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.scss';\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n\n  useMemo(() => (\n    getProducts(15)\n      .then(actualProducts => setProducts(actualProducts))\n  ), []);\n\n  return (\n    <div className=\"App\">\n      <ProductsList products={products} />\n    </div>\n  );\n}\n\nexport default App;\n","const API_URL = `https://fakestoreapi.com/products`;\n\nexport function getProducts(itemsLimit) {\n  return fetch(`${API_URL}?limit=${itemsLimit}`)\n    .then(response => response.json());\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}